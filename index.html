<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ú–∞—Ç—Ä–∏—Ü–∞ –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä–∞</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0d1020;
  --panel:#1b1f2e;
  --text:#f5f6fa;
  --muted:#9aa0b5;
  --accent:#6f7dff;
}

*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,sans-serif;}

body{
  min-height:100vh;
  background:
    linear-gradient(rgba(255,255,255,.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,.04) 1px, transparent 1px),
    var(--bg);
  background-size:40px 40px;
  color:var(--text);
}

header{
  text-align:center;
  padding:18px;
  font-size:26px;
  font-weight:700;
  color:var(--accent);
}

/* ‚úÖ –ú–ê–¢–†–ò–¶–ê 2√ó2 ‚Äî –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï */
.board{
  padding:14px;
  display:grid;
  grid-template-columns:1fr 1fr;
  grid-template-rows:auto auto;
  gap:12px;
}

@media (max-width:720px){
  .board{grid-template-columns:1fr;}
}

.quadrant{
  position:relative;
  background:linear-gradient(180deg,#1e2334,#191d2b);
  border-radius:22px;
  padding:16px 18px 18px 22px;
  box-shadow:0 10px 24px rgba(0,0,0,.45);
}
.quadrant::before{
  content:'';
  position:absolute;left:0;top:0;bottom:0;width:5px;
  border-radius:22px 0 0 22px;
}
.q1::before{background:#ff6b6b;}
.q2::before{background:#4dabff;}
.q3::before{background:#ffd666;}
.q4::before{background:#6ee7b7;}

h2{font-size:14px;font-weight:600;margin-bottom:10px;}
.tasks{
  display:flex;
  flex-direction:column;
  gap:8px;
  min-height:40px;
}

.task{
  padding:10px 12px;
  border-radius:12px;
  font-size:13px;
  cursor:pointer;
  transition:.25s;
  user-select:none;
}
.task.q1{background:#ff6b6b;}
.task.q2{background:#4dabff;}
.task.q3{background:#ffd666;color:#222;}
.task.q4{background:#6ee7b7;color:#222;}
.task small{display:block;font-size:11px;opacity:.75;margin-top:4px;}

.task.done{
  opacity:.35;
  text-decoration:line-through;
  filter:grayscale(1);
}

/* –æ—Å—Ç–∞–ª—å–Ω–æ–π CSS –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô */
</style>
</head>

<body>

<header>–ú–∞—Ç—Ä–∏—Ü–∞ –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä–∞</header>

<div class="board">
  <div class="quadrant q1" data-id="q1"><h2>–í–∞–∂–Ω–æ ¬∑ –°—Ä–æ—á–Ω–æ</h2><div class="tasks" ondrop="drop(event)" ondragover="allowDrop(event)"></div></div>
  <div class="quadrant q2" data-id="q2"><h2>–í–∞–∂–Ω–æ ¬∑ –ù–µ —Å—Ä–æ—á–Ω–æ</h2><div class="tasks" ondrop="drop(event)" ondragover="allowDrop(event)"></div></div>
  <div class="quadrant q3" data-id="q3"><h2>–ù–µ –≤–∞–∂–Ω–æ ¬∑ –°—Ä–æ—á–Ω–æ</h2><div class="tasks" ondrop="drop(event)" ondragover="allowDrop(event)"></div></div>
  <div class="quadrant q4" data-id="q4"><h2>–ù–µ –≤–∞–∂–Ω–æ ¬∑ –ù–µ —Å—Ä–æ—á–Ω–æ</h2><div class="tasks" ondrop="drop(event)" ondragover="allowDrop(event)"></div></div>
</div>

<!-- üî• –¢–ê–ô–ú–ï–† ‚Äî –ù–ê –ú–ï–°–¢–ï, –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô -->
<div class="pomodoro">
  <div class="pomo-grid">
    <div><label>–†–∞–±–æ—Ç–∞ (–º–∏–Ω)</label><input id="workInput" type="number" value="25"></div>
    <div><label>–û—Ç–¥—ã—Ö (–º–∏–Ω)</label><input id="breakInput" type="number" value="5"></div>
  </div>

  <div id="timer" class="timer">25:00</div>

  <div class="mode-buttons">
    <button id="workBtn" class="secondary active">–†–∞–±–æ—Ç–∞</button>
    <button id="breakBtn" class="secondary">–û—Ç–¥—ã—Ö</button>
  </div>

  <div class="buttons">
    <button id="startBtn" class="primary">–°—Ç–∞—Ä—Ç</button>
    <button id="pauseBtn" class="secondary">–ü–∞—É–∑–∞</button>
    <button id="resetBtn" class="secondary">–°–±—Ä–æ—Å–∏—Ç—å</button>
  </div>
</div>

<!-- Modal -->
<div id="modal">
  <div id="modalContent">
    <h3 id="modalTitle">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>
    <input id="taskTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏">
    <textarea id="taskComment" rows="3" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"></textarea>
    <button id="saveTaskBtn" class="primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <button id="cancelTaskBtn" class="secondary">–û—Ç–º–µ–Ω–∞</button>
  </div>
</div>

<script>
/* ===== –î–û–ë–ê–í–õ–ï–ù–û: –£–î–ê–õ–ï–ù–ò–ï –ó–ê–î–ê–ß ===== */
function addDeleteHandler(el, quadId, index){
  el.oncontextmenu = (e)=>{
    e.preventDefault();
    if(confirm('–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É?')){
      tasks[quadId].splice(index,1);
      saveTasks();
      renderTasks();
    }
  };
}

/* ===== –ú–ò–ù–ò–ú–ê–õ–¨–ù–ê–Ø –ü–†–ê–í–ö–ê –í renderTasks ===== */
const _renderTasks = renderTasks;
renderTasks = function(){
  document.querySelectorAll('.tasks').forEach(el => el.innerHTML = '');
  for (const [quadId, taskList] of Object.entries(tasks)) {
    const container = document.querySelector(`.quadrant[data-id="${quadId}"] .tasks`);
    taskList.forEach((task,index)=>{
      const el = document.createElement('div');
      el.className = `task ${quadId}` + (task.done?' done':'');
      el.innerHTML = task.title + (task.comment?`<small>${task.comment}</small>`:'');
      el.onclick = ()=>{task.done=!task.done;saveTasks();};
      addDeleteHandler(el, quadId, index);
      container.appendChild(el);
    });
  }
};
</script>

</body>
</html>
